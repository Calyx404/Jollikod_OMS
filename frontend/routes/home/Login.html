<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Jollikod - Login</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">

<div class="flex items-center justify-center min-h-screen">
  <form id="loginForm" class="bg-white p-6 rounded shadow-md w-96 space-y-4">
    <h1 class="text-xl font-bold">Login</h1>

    <select id="role" class="w-full p-2 border rounded">
      <option value="customer">Customer</option>
      <option value="branch">Branch</option>
    </select>

    <input type="email" id="email" class="w-full p-2 border rounded" placeholder="Email" />

    <input type="text" id="password" class="w-full p-2 border rounded" placeholder="Password" />

    <button class="w-full bg-red-600 text-white p-2 rounded">Login</button>

    <p id="msg" class="text-sm text-center mt-2 text-gray-600"></p>
  </form>
</div>

<script>
document.getElementById("loginForm").onsubmit = async (e) => {
  e.preventDefault();
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const role = document.getElementById("role").value;

  const formData = new FormData();
  formData.append("email", email);
  formData.append("password", password);
  formData.append("role", role);

  const res = await fetch("http://localhost/jollikod_oms/backend/public/index.php?api=1&action=login", {
    method: "POST",
    body: formData
  });

  const data = await res.json();
  document.getElementById("msg").innerText = JSON.stringify(data);
};
</script>

</body>
</html>
